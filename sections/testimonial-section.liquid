{% stylesheet %}
.testimonial-carousel.owl-carousel{
    width: 60%;
}
.testimonial-wrapper {
  display: flex;
  justify-content: space-between;
  /* align-items: center; */
  gap: 30px;
  padding: 70px 0;
}

.testimonial-left {
  flex: 1;
  max-width: 30rem;
}

.testimonial-left h2 {
  font-size: 36px;
  font-weight: 700;
  margin-bottom: 20px;
}

.testimonial-left .nav-buttons {
  margin-top: 30px;
}

.testimonial-left .nav-buttons button {
  background: none;
  border: 1px solid #D52722;
  padding: 18px;
  margin-right: 10px;
  cursor: pointer;
  background-color: #ffffff;
  transition: 0.3s all;
}
.testimonial-left .nav-buttons button img{
  filter: brightness(0) saturate(100%) invert(38%) sepia(20%) saturate(4243%) hue-rotate(332deg) brightness(79%) contrast(119%);
}
.testimonial-left .nav-buttons button#testimonial-prev img{
transform: rotate(180deg);
}
.testimonial-left .nav-buttons button:hover{
  background-color: #D52722;
}
.testimonial-left .nav-buttons button:hover img{
  filter: brightness(0) invert(1);
}

.testimonial-carousel {
  flex: 2;
}

.testimonial-item .quote {
  font-size: 22px;
  color: #f33;
}
.testimonial-meta {
  margin-top: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
}
{% endstylesheet %}

<div class="testimonial-section">
  <div class="page-width">
  <div class="testimonial-wrapper">
    <div class="testimonial-left">
      <h2 class="inline-richtext">{{ section.settings.heading }}</h2>
      <div class="nav-buttons">
        <button id="testimonial-prev">
          <img src="{{ 'right-arrow-white-icon.svg' | asset_url }}" />
        </button>
        <button id="testimonial-next">
          <img src="{{ 'right-arrow-white-icon.svg' | asset_url }}" />
        </button>
      </div>
    </div>

    <div class="testimonial-carousel owl-carousel">
      {% for block in section.blocks %}
        <div class="testimonial-item">
          <div class="testimonial-content">
            <div class="quote-stars">
              <div class="quote">
                <img src="{{ 'icon-quote.svg' | asset_url }}" />
              </div>
              <div class="stars">
                {% assign rating = section.settings.star_rating %}
                {% assign next = rating | plus: 1 %}
                <div class="stars">
                {% for i in (1..rating) %}
                  ★
                {% endfor %}
                {% for i in (next..5) %}
                  ★
                {% endfor %}
                </div>
              </div>
            </div>
            <p>{{ block.settings.text }}</p>
          </div>
          <div class="testimonial-meta">
            <img src="{{ block.settings.image | image_url }}" alt="{{ block.settings.name }}">
            <div>
              <strong>{{ block.settings.name }}</strong>
              <small>{{ block.settings.designation }}</small>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
</div>

{% schema %}
{
  "name": "Testimonial Section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Left Side Heading",
      "default": "What They’re Talking About Company?"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "textarea",
          "id": "text",
          "label": "Testimonial Text"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Person Image"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Name"
        },
        {
          "type": "text",
          "id": "designation",
          "label": "Designation"
        },
        {
            "type": "range",
            "id": "star_rating",
            "min": 1,
            "max": 5,
            "step": 1,
            "default": 5,
            "label": "Star Rating"
        }
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [
    {
      "name": "Testimonial Section",
      "category": "Custom"
    }
  ]
}
{% endschema %}
